version: '3.8'

services:
  z-image-ui:
    # 告诉 Docker 就在当前目录(.)寻找 Dockerfile 构建
    build: . 
    # 容器名字，方便查看
    container_name: z-image-ui-container
    # 端口映射: 左边是宿主机(浏览器访问的)，右边是容器内(Streamlit默认的)
    ports:
      - "8501:8501"  # 监听所有接口（包括 127.0.0.1）
    # 如果容器崩溃或电脑重启，自动重启这个容器
    restart: always
    # 可选：配置环境变量（虽然目前代码里没用，以后可以用来存 API Key）
    environment:
      - TZ=Asia/Shanghai